[gd_scene load_steps=34 format=3 uid="uid://b3j23e236qp27"]

[ext_resource type="Script" path="res://Entities/Player/Player.cs" id="1_b2xr6"]
[ext_resource type="Texture2D" uid="uid://cq2pxkxwsa1r0" path="res://Entities/Player/Assets/Sprites/JumpShoot.png" id="2_ejnuj"]
[ext_resource type="Script" path="res://Entities/Player/PlayerStateMachine.cs" id="2_fge8c"]
[ext_resource type="Script" path="res://Entities/Player/States/PlayerSpawnState.cs" id="3_gvesp"]
[ext_resource type="Script" path="res://Entities/Player/States/PlayerIdleState.cs" id="4_u17kg"]
[ext_resource type="Script" path="res://Entities/Player/States/PlayerMoveState.cs" id="5_pxept"]
[ext_resource type="Script" path="res://Entities/Player/States/PlayerJumpState.cs" id="6_86dkt"]
[ext_resource type="Script" path="res://Entities/Player/States/PlayerJumpShootState.cs" id="7_qhmpj"]
[ext_resource type="Script" path="res://Entities/Player/States/PlayerClimbState.cs" id="8_rri1f"]
[ext_resource type="Script" path="res://Entities/Player/States/PlayerClimbShootState.cs" id="9_cc0e2"]
[ext_resource type="Script" path="res://Entities/Player/States/PlayerSlideState.cs" id="10_2w6v8"]
[ext_resource type="Script" path="res://Entities/Player/States/PlayerDeathState.cs" id="11_wnxdw"]
[ext_resource type="Texture2D" uid="uid://c8ghbfter3oal" path="res://Entities/Player/Assets/Sprites/Idle.png" id="13_chhpk"]
[ext_resource type="Texture2D" uid="uid://dg0fv4rhpg0uy" path="res://Entities/Player/Assets/Sprites/IdleShoot.png" id="14_sd3wv"]
[ext_resource type="Texture2D" uid="uid://bgm6frrsxsllr" path="res://Entities/Player/Assets/Sprites/Jump.png" id="15_0xe5i"]
[ext_resource type="Texture2D" uid="uid://bgct2lbkk1p8k" path="res://Entities/Player/Assets/Sprites/Run.png" id="16_tk275"]
[ext_resource type="FontFile" uid="uid://ckjjk2m3e5tks" path="res://Assets/m5x7.ttf" id="17_h847a"]
[ext_resource type="Texture2D" uid="uid://i0edvqckmsnj" path="res://Entities/Player/Assets/Sprites/Climb.png" id="17_wvvhb"]
[ext_resource type="Script" path="res://Entities/Player/Weapons/WeaponStateMachine.cs" id="18_ovfao"]
[ext_resource type="Script" path="res://Entities/Player/Weapons/States/BusterState.cs" id="19_6xnec"]
[ext_resource type="AudioStream" uid="uid://b2kn0gxwmdihq" path="res://Entities/Player/Assets/Sounds/Land.wav" id="20_4tgth"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pmkpp"]
resource_local_to_scene = true
size = Vector2(12, 24)

[sub_resource type="Animation" id="Animation_boga3"]
resource_name = "ClimbExit"
length = 0.32
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("17_wvvhb")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [4]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:frame")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [2]
}

[sub_resource type="Animation" id="Animation_vcbmd"]
resource_name = "ClimbIdle"
length = 0.32
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("17_wvvhb")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [4]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:frame")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_81jqb"]
resource_name = "ClimbMove"
length = 0.32
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("17_wvvhb")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [4]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:frame")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/3/type = "method"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath(".")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.16),
"transitions": PackedFloat32Array(1, 1),
"values": [{
"args": [],
"method": &"ToggleFacingDirection"
}, {
"args": [],
"method": &"ToggleFacingDirection"
}]
}

[sub_resource type="Animation" id="Animation_vn6qp"]
resource_name = "Idle"
length = 3.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("13_chhpk")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [3]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:frame")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 2.85),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [0, 1]
}

[sub_resource type="Animation" id="Animation_52rom"]
resource_name = "IdleShoot"
length = 0.3
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("14_sd3wv")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [1]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:frame")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_kcbac"]
resource_name = "Jump"
length = 0.16
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("15_0xe5i")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [1]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:frame")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_uqa4v"]
resource_name = "JumpShoot"
length = 0.24
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("2_ejnuj")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [1]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:frame")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_1w3ip"]
resource_name = "Move"
length = 0.48
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("16_tk275")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [3]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:frame")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.12, 0.24, 0.36),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 1]
}

[sub_resource type="Animation" id="Animation_no77w"]
resource_name = "TipToe"
length = 0.08
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("13_chhpk")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:hframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [3]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:frame")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [2]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_bqslr"]
_data = {
"ClimbExit": SubResource("Animation_boga3"),
"ClimbIdle": SubResource("Animation_vcbmd"),
"ClimbMove": SubResource("Animation_81jqb"),
"Idle": SubResource("Animation_vn6qp"),
"IdleShoot": SubResource("Animation_52rom"),
"Jump": SubResource("Animation_kcbac"),
"JumpShoot": SubResource("Animation_uqa4v"),
"Move": SubResource("Animation_1w3ip"),
"TipToe": SubResource("Animation_no77w")
}

[sub_resource type="LabelSettings" id="LabelSettings_32pru"]
resource_local_to_scene = true
font = ExtResource("17_h847a")
outline_size = 4
outline_color = Color(0, 0, 0, 1)
shadow_size = 0

[node name="Player" type="CharacterBody2D" node_paths=PackedStringArray("Sprite", "Weapons", "CollisionShape", "StateMachine", "AnimationPlayer")]
collision_layer = 2
collision_mask = 65
script = ExtResource("1_b2xr6")
Sprite = NodePath("Sprite2D")
Weapons = NodePath("Weapons")
CollisionShape = NodePath("CollisionShape2D")
StateMachine = NodePath("StateMachine")
AnimationPlayer = NodePath("AnimationPlayer")

[node name="Sprite2D" type="Sprite2D" parent="."]
texture = ExtResource("17_wvvhb")
hframes = 4
frame = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, -1)
shape = SubResource("RectangleShape2D_pmkpp")

[node name="StateMachine" type="Node" parent="." node_paths=PackedStringArray("StateLabel", "InitialState")]
script = ExtResource("2_fge8c")
StateLabel = NodePath("../Label")
InitialState = NodePath("Idle")

[node name="Spawn" type="Node" parent="StateMachine"]
script = ExtResource("3_gvesp")

[node name="Idle" type="Node" parent="StateMachine"]
script = ExtResource("4_u17kg")

[node name="Move" type="Node" parent="StateMachine"]
script = ExtResource("5_pxept")
TipToeFrameCountMax = 7

[node name="Jump" type="Node" parent="StateMachine" node_paths=PackedStringArray("LandingSoundEffect")]
script = ExtResource("6_86dkt")
LandingSoundEffect = NodePath("../../Sound Effects/Land")

[node name="JumpShoot" type="Node" parent="StateMachine" node_paths=PackedStringArray("LandingSoundEffect")]
script = ExtResource("7_qhmpj")
LandingSoundEffect = NodePath("../../Sound Effects/Land")

[node name="Climb" type="Node" parent="StateMachine"]
script = ExtResource("8_rri1f")

[node name="ClimbShoot" type="Node" parent="StateMachine"]
script = ExtResource("9_cc0e2")

[node name="Slide" type="Node" parent="StateMachine"]
script = ExtResource("10_2w6v8")

[node name="Stagger" type="Node" parent="StateMachine"]

[node name="Death" type="Node" parent="StateMachine"]
script = ExtResource("11_wnxdw")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_bqslr")
}

[node name="Weapons" type="Node" parent="." node_paths=PackedStringArray("InitialState")]
script = ExtResource("18_ovfao")
InitialState = NodePath("Buster")

[node name="Buster" type="Node" parent="Weapons"]
script = ExtResource("19_6xnec")

[node name="Label" type="Label" parent="."]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -100.0
offset_top = -36.0
offset_right = 100.0
offset_bottom = -12.0
grow_horizontal = 2
grow_vertical = 0
text = "Hello World"
label_settings = SubResource("LabelSettings_32pru")
horizontal_alignment = 1
vertical_alignment = 1

[node name="Sound Effects" type="Node" parent="."]

[node name="Land" type="AudioStreamPlayer" parent="Sound Effects"]
stream = ExtResource("20_4tgth")

[connection signal="animation_finished" from="AnimationPlayer" to="StateMachine" method="AnimationFinished"]
